<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fórum - Curso Web Design</title>
    <link rel="stylesheet" href="css/styles_forum_novo.css">
    <link rel="stylesheet" href="css/styles_body_forum.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="shortcut icon" href="imagens/logo.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link rel="stylesheet" href="css/profile-dropdown-menu.css">
    <link rel="stylesheet" href="css/navbar.css">
    <script src="js/scriptlogin.js" defer></script>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=leMFOrsd"></script>
    <script src="js/script_speak.js"></script>
    <script src="js/chamar_html.js"></script>
    <!-- firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="js/firebase_conf.js"></script>
</head>
<body>
    

  <nav class="navbar" id="navbar"></nav>

    <!--Inicio do corpo do fórum-->
  <main>
    <div class="content">
        <div class="search-bar">
            <input type="text" id="search" placeholder="Pesquisar no fórum..." oninput="searchTopics()">
        </div>

        <div class="categories">
            <button onclick="filterTopics('all')" class="active">Todas as categorias</button>
            <button onclick="filterTopics('Geral')">Geral</button>
            <button onclick="">Recentes</button>
            <button class="new-topic-button" onclick="openNewTopicModal()">+ Novo Tópico</button>
        </div>

        <div id="topics-container">
            <div class="forum-topic" data-predefined="true" data-category="Geral" >
                <div class="forum-topic-details"  >
                    <img src="imagens/gabriel.png" alt="Avatar">
                    <div>
                        <h3 class="forum-topic-title"><a href="#">Programação Mobile</a></h3>
                        <p>Gabriel Accorsi - 29/06/2022 09:07:15</p>
                    </div>
                </div>
                <p>Geral</p>
            </div>

            <div class="forum-topic" data-predefined="true" data-category="Geral">
                <div class="forum-topic-details">
                    <img src="/imagens/gabriel.png" alt="Avatar">
                    <div>
                        <h3 class="forum-topic-title"><a href="#">Implementação de Bibliotécas</a></h3>
                        <p>Gabriel Accorsi - 29/06/2022 19:08:25</p>
                    </div>
                </div>
                <p>Geral</p>
            </div>

            <div class="forum-topic" data-predefined="true" data-category="Geral">

              <div class="forum-topic-details">
                  <img src="/imagens/gabriel.png" alt="Avatar">
                  <div>
                      <h3 class="forum-topic-title"><a href="#">Boas práticas de programação</a></h3>
                      <p>Gabriel Accorsi - 30/06/2022 15:30:16</p>
                  </div>
              </div>
              
              <p>Geral</p>
          </div>
          

        </div>

    </div>
</main>

    <!--Inicio rodapé-->

    <footer class="footer" id="footer"> </footer>
    
    <!--Fim do rodapé-->
    

    <!-- Modal para novo tópico -->
    <div id="new-topic-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeNewTopicModal()">&times;</span>
            <h2>Novo Tópico</h2>
            <input type="text" id="new-topic-title" placeholder="Título do tópico">
            <input type="text" id="new-topic-category" placeholder="Categoria">
            <button onclick="addNewTopic()">Adicionar Tópico</button>
        </div>
    </div>

    <script src="js/script_forum_novo.js"></script>
    <script src="js/script_speak.js"></script>
    <script src="js/menu-drop.js" defer></script>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
    const usuario = JSON.parse(localStorage.getItem('usuarioLogado'));
    const excluirPost = document.querySelectorAll(".apagar");
    
    if (usuario && usuario.tipo === "adm" ) {
        excluirPost.forEach(botao => {
            botao.style.display = "block";
        });
    } else {
        excluirPost.forEach(botao => {
            botao.style.display = "none"; 
        });
    }    
});
</script>


</body>
</html>
